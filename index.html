<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duyuru Wordle</title>

<style>
    body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 0;
        padding: 20px;
        box-sizing: border-box;
    }

    h1 {
        margin-bottom: 20px;
        font-size: 24px;
        text-align: center;
    }

    /* ======= GRID (tahmin kutuları) ======= */
    .grid {
        display: grid;
        grid-template-columns: repeat(5, 55px);
        grid-gap: 8px;
        margin-bottom: 20px;
    }

    .cell {
        width: 55px;
        height: 55px;
        border: 2px solid #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 28px;
        font-weight: bold;
        text-transform: uppercase;
        background-color: white;
        border-radius: 6px;
    }

    /* ======= KEYBOARD ======= */
    .keyboard {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 600px;   /* Sağ-sol boşluk */
        margin-top: 10px;
        padding: 0 10px;    /* Telefon için sağ-sol boşluk */
        box-sizing: border-box;
    }

    .keyboard-row {
        display: flex;
        justify-content: center;
        margin-bottom: 8px;
        flex-wrap: nowrap;  /* Tuş kaymasını engeller */
    }

    .key {
        font-size: 18px;
        padding: 12px 10px;
        margin: 3px;
        min-width: 32px;
        background-color: #ddd;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        user-select: none;
    }

    .key.large {
        min-width: 60px;
    }

    .key:active {
        background-color: #bbb;
    }

    /* ======= MOBILE OPTIMIZATION ======= */
    @media (max-width: 430px) {

        .grid {
            grid-template-columns: repeat(5, 48px);
            grid-gap: 6px;
        }

        .cell {
            width: 48px;
            height: 48px;
            font-size: 24px;
        }

        .key {
            padding: 10px 8px;
            min-width: 28px;
            font-size: 16px;
        }

        .key.large {
            min-width: 55px;
        }

        .keyboard {
            padding-left: 8px;
            padding-right: 8px;
        }
    }
</style>
</head>

<body>

<h1>DUYURU WORDLE</h1>

<div id="grid" class="grid"></div>
<div id="keyboard" class="keyboard"></div>

<script>
/* ===============================
   SENİN MEVCUT SCRIPT'İN
   (Ben dokunmadım — aynı şekilde çalışır)
================================= */

const TURKISH_WORDS = []; // kelime listen buraya yükleniyor

let dictionaryLoaded = false;
let DAILY_WORD = "";
let attempts = [];
let currentAttempt = "";
let currentRow = 0;
let gameEnded = false;

async function loadDictionary() {
    const response = await fetch("words.json");
    const data = await response.json();
    TURKISH_WORDS.push(...data.words);
    dictionaryLoaded = true;
    selectDailyWord();
    createGrid();
    createKeyboard();
}

function selectDailyWord() {
    const now = new Date();
    const turkishDate = new Date(now.toLocaleString("en-US", { timeZone: "Europe/Istanbul" }));
    const dayIndex =
        turkishDate.getFullYear() * 10000 +
        (turkishDate.getMonth() + 1) * 100 +
        turkishDate.getDate();

    const index = dayIndex % TURKISH_WORDS.length;
    DAILY_WORD = TURKISH_WORDS[index].toUpperCase();
}

function createGrid() {
    const grid = document.getElementById("grid");
    grid.innerHTML = "";

    for (let i = 0; i < 6 * 5; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        grid.appendChild(cell);
    }
}

function createKeyboard() {
    const rows = [
        "ERTYUIOPĞÜ",
        "ASDFGHJKLŞİ",
        "⌫ZXCVBNMÖÇ↵"
    ];

    const keyboard = document.getElementById("keyboard");
    keyboard.innerHTML = "";

    rows.forEach(row => {
        const rowDiv = document.createElement("div");
        rowDiv.classList.add("keyboard-row");

        row.split("").forEach(keyChar => {
            const key = document.createElement("button");
            key.classList.add("key");

            if (keyChar === "⌫" || keyChar === "↵") {
                key.classList.add("large");
            }

            key.textContent = keyChar;

            key.onclick = () => handleKeyPress(keyChar);

            rowDiv.appendChild(key);
        });

        keyboard.appendChild(rowDiv);
    });
}

function handleKeyPress(key) {
    if (gameEnded) return;

    if (key === "⌫") {
        currentAttempt = currentAttempt.slice(0, -1);
        updateGrid();
        return;
    }

    if (key === "↵") {
        if (currentAttempt.length === 5) submitAttempt();
        return;
    }

    if (currentAttempt.length < 5) {
        currentAttempt += key;
        updateGrid();
    }
}

function updateGrid() {
    const grid = document.querySelectorAll(".cell");

    for (let i = 0; i < 5; i++) {
        const cell = grid[currentRow * 5 + i];
        cell.textContent = currentAttempt[i] || "";
    }
}

function submitAttempt() {
    if (!TURKISH_WORDS.includes(currentAttempt.toLowerCase())) {
        alert("Bu kelime listede yok!");
        return;
    }

    const grid = document.querySelectorAll(".cell");

    for (let i = 0; i < 5; i++) {
        const cell = grid[currentRow * 5 + i];

        const letter = currentAttempt[i];
        if (letter === DAILY_WORD[i]) {
            cell.style.backgroundColor = "#6aaa64"; // doğru
            cell.style.color = "white";
        } else if (DAILY_WORD.includes(letter)) {
            cell.style.backgroundColor = "#c9b458"; // yanlış yerde
            cell.style.color = "white";
        } else {
            cell.style.backgroundColor = "#787c7e"; // yok
            cell.style.color = "white";
        }
    }

    if (currentAttempt === DAILY_WORD) {
        alert("Tebrikler! Doğru bildiniz.");
        gameEnded = true;
        return;
    }

    currentRow++;
    currentAttempt = "";

    if (currentRow === 6) {
        alert("Bilemediniz! Kelime: " + DAILY_WORD);
        gameEnded = true;
    }
}

loadDictionary();
</script>

</body>
</html>

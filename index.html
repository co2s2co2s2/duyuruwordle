<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Duyuru Wordle</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    text-align: center;
    background: #121213;
    color: white;
  }
  h1 { margin-top: 20px; }
  .board {
    display: grid;
    grid-template-rows: repeat(6, 1fr);
    gap: 5px;
    width: 260px;
    margin: 20px auto;
  }
  .row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 5px;
  }
  .tile {
    width: 50px;
    height: 50px;
    border: 2px solid #3a3a3c;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: bold;
    text-transform: uppercase;
  }
  .correct { background: #538d4e; border-color: #538d4e; }
  .present { background: #b59f3b; border-color: #b59f3b; }
  .absent  { background: #3a3a3c; border-color: #3a3a3c; }
</style>
</head>

<body>
<h1>Duyuru Wordle</h1>

<div class="board" id="board"></div>

<script>
/* ======================
   KELİME LİSTESİ
====================== */
const WORD_LIST = [
  "TEĞET",
  "MİZAÇ",
  "VİRAJ",
  "EFSUN",
  "GÖĞÜS",
  "EFKAR",
  "FLÖRT",
  "GÜBRE",
  "DÜŞÜŞ",
  "VAKIF",
  "MESAİ",
  "TİTİZ",
  "GÖVDE",
  "TALEP",
  "LİMAN",
  "FENER",
  "GAVUR",
  "MÜFTÜ"
];

/* ======================
   GÜNLÜK KELİME (SIRALI)
====================== */
function getDailyWord() {
  const start = new Date("2024-01-01");
  const today = new Date();
  start.setHours(0,0,0,0);
  today.setHours(0,0,0,0);

  const dayIndex = Math.floor((today - start) / 86400000);
  return WORD_LIST[dayIndex % WORD_LIST.length];
}

const ANSWER = getDailyWord();
const board = document.getElementById("board");

let currentRow = 0;
let currentCol = 0;
let guesses = Array.from({ length: 6 }, () => Array(5).fill(""));

/* ======================
   BOARD OLUŞTUR
====================== */
for (let r = 0; r < 6; r++) {
  const row = document.createElement("div");
  row.className = "row";
  for (let c = 0; c < 5; c++) {
    const tile = document.createElement("div");
    tile.className = "tile";
    row.appendChild(tile);
  }
  board.appendChild(row);
}

/* ======================
   KLAVYE GİRİŞİ
====================== */
document.addEventListener("keydown", (e) => {
  if (currentRow >= 6) return;

  if (e.key === "Backspace" && currentCol > 0) {
    currentCol--;
    guesses[currentRow][currentCol] = "";
    updateBoard();
    return;
  }

  if (e.key === "Enter" && currentCol === 5) {
    checkGuess();
    return;
  }

  if (/^[a-zA-ZçğıöşüÇĞİÖŞÜ]$/.test(e.key) && currentCol < 5) {
    guesses[currentRow][currentCol] = e.key.toUpperCase();
    currentCol++;
    updateBoard();
  }
});

/* ======================
   BOARD GÜNCELLE
====================== */
function updateBoard() {
  const rows = document.querySelectorAll(".row");
  guesses.forEach((row, r) => {
    row.forEach((letter, c) => {
      rows[r].children[c].textContent = letter;
    });
  });
}

/* ======================
   KONTROL
====================== */
function checkGuess() {
  const guess = guesses[currentRow].join("");
  const answerArr = ANSWER.split("");
  const guessArr = guess.split("");
  const rowTiles = document.querySelectorAll(".row")[currentRow].children;

  // Yeşil
  guessArr.forEach((l, i) => {
    if (l === answerArr[i]) {
      rowTiles[i].classList.add("correct");
      answerArr[i] = null;
    }
  });

  // Sarı / Gri
  guessArr.forEach((l, i) => {
    if (rowTiles[i].classList.contains("correct")) return;
    const idx = answerArr.indexOf(l);
    if (idx !== -1) {
      rowTiles[i].classList.add("present");
      answerArr[idx] = null;
    } else {
      rowTiles[i].classList.add("absent");
    }
  });

  currentRow++;
  currentCol = 0;
}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Duyuru Wordle</title>
</head>

<body>

<h1>DUYURU WORDLE</h1>

<div id="grid" class="grid"></div>
<div id="keyboard" class="keyboard"></div>

<script>
// -----------------------------
// ÇALIŞAN SON KOD
// -----------------------------

const TURKISH_WORDS = ["elma","armut","muz","çilek","üzüm"]; // Örnek sözlük
let DAILY_WORD = "";
let currentAttempt = "";
let currentRow = 0;
let gameEnded = false;

function selectDailyWord() {
    const now = new Date();
    const turkishDate = new Date(now.toLocaleString("en-US", { timeZone: "Europe/Istanbul" }));
    const dayIndex =
        turkishDate.getFullYear() * 10000 +
        (turkishDate.getMonth() + 1) * 100 +
        turkishDate.getDate();

    const index = dayIndex % TURKISH_WORDS.length;
    DAILY_WORD = TURKISH_WORDS[index].toUpperCase();
}

function createGrid() {
    const grid = document.getElementById("grid");
    grid.innerHTML = "";
    grid.style.display = "grid";
    grid.style.gridTemplateColumns = "repeat(5, 60px)";
    grid.style.gridGap = "8px";
    grid.style.marginBottom = "20px";

    for (let i = 0; i < 30; i++) {
        const cell = document.createElement("div");
        cell.style.width = "60px";
        cell.style.height = "60px";
        cell.style.border = "2px solid #ccc";
        cell.style.display = "flex";
        cell.style.alignItems = "center";
        cell.style.justifyContent = "center";
        cell.style.fontSize = "28px";
        cell.style.fontWeight = "bold";
        cell.style.textTransform = "uppercase";
        cell.style.backgroundColor = "white";
        cell.style.borderRadius = "6px";
        grid.appendChild(cell);
    }
}

function createKeyboard() {
    const rows = ["ERTYUIOPĞÜ", "ASDFGHJKLŞİ", "⌫ZXCVBNMÖÇ↵"];
    const keyboard = document.getElementById("keyboard");
    keyboard.innerHTML = "";
    keyboard.style.display = "flex";
    keyboard.style.flexDirection = "column";
    keyboard.style.alignItems = "center";
    keyboard.style.marginTop = "10px";

    rows.forEach(row => {
        const rowDiv = document.createElement("div");
        rowDiv.style.display = "flex";
        rowDiv.style.justifyContent = "center";
        rowDiv.style.marginBottom = "6px";

        row.split("").forEach(keyChar => {
            const key = document.createElement("button");
            key.textContent = keyChar;
            key.style.margin = "3px";
            key.style.minWidth = "32px";
            key.style.padding = "12px 10px";
            key.style.borderRadius = "6px";
            key.style.border = "none";
            key.style.backgroundColor = "#ddd";
            key.style.fontSize = "18px";
            key.style.cursor = "pointer";

            key.onclick = () => handleKeyPress(keyChar);

            rowDiv.appendChild(key);
        });

        keyboard.appendChild(rowDiv);
    });
}

function handleKeyPress(key) {
    if (gameEnded) return;

    if (key === "⌫") {
        currentAttempt = currentAttempt.slice(0, -1);
        updateGrid();
        return;
    }

    if (key === "↵") {
        if (currentAttempt.length === 5) submitAttempt();
        return;
    }

    if (currentAttempt.length < 5) {
        currentAttempt += key;
        updateGrid();
    }
}

function updateGrid() {
    const grid = document.querySelectorAll("#grid div");
    for (let i = 0; i < 5; i++) {
        const cell = grid[currentRow * 5 + i];
        cell.textContent = currentAttempt[i] || "";
    }
}

function submitAttempt() {
    const grid = document.querySelectorAll("#grid div");

    if (!TURKISH_WORDS.includes(currentAttempt.toLowerCase())) {
        alert("Bu kelime listede yok!");
        return;
    }

    for (let i = 0; i < 5; i++) {
        const cell = grid[currentRow * 5 + i];
        const letter = currentAttempt[i];

        if (letter === DAILY_WORD[i]) {
            cell.style.backgroundColor = "#6aaa64"; // doğru
            cell.style.color = "white";
        } else if (DAILY_WORD.includes(letter)) {
            cell.style.backgroundColor = "#c9b458"; // yanlış yerde
            cell.style.color = "white";
        } else {
            cell.style.backgroundColor = "#787c7e"; // yok
            cell.style.color = "white";
        }
    }

    if (currentAttempt === DAILY_WORD) {
        alert("Tebrikler! Doğru bildiniz.");
        gameEnded = true;
        return;
    }

    currentRow++;
    currentAttempt = "";

    if (currentRow === 6) {
        alert("Bilemediniz! Kelime: " + DAILY_WORD);
        gameEnded = true;
    }
}

// Başlat
selectDailyWord();
createGrid();
createKeyboard();
</script>

</body>
</html>
